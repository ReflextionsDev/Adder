{
	"name": "Preload_E",
	"events": [
		{
			"eventType": "variable",
			"name": "firstLayout",
			"type": "string",
			"initialValue": "Cabin",
			"comment": "Level Editor, Level",
			"isStatic": false,
			"isConstant": false,
			"sid": 840923597605543
		},
		{
			"eventType": "include",
			"includeSheet": "Loader"
		},
		{
			"eventType": "include",
			"includeSheet": "Saves"
		},
		{
			"eventType": "include",
			"includeSheet": "Effects"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 258681046225051
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 391878331548318,
					"parameters": {
						"variable": "cursor_Custom",
						"value": "1"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 561747761404406,
					"parameters": {
						"variable": "system_Platform",
						"value": "\"PC\""
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 358529866883646,
					"parameters": {
						"variable": "system_ZoomBase",
						"value": "system_ZoomBasePC"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 272505217611261,
					"parameters": {
						"variable": "system_ZoomMenus",
						"value": "system_ZoomBasePC"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 539526080751215,
					"parameters": {
						"variable": "system_MapScale",
						"value": "system_MapScalePC"
					}
				}
			],
			"sid": 102400103592279,
			"children": [
				{
					"eventType": "comment",
					"text": "Map Functions"
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 483118058047078,
							"parameters": {
								"name": "\"\"",
								"string": "\"Map_Ok\"",
								"function": "\"Map_Ok\""
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 969523242007929,
							"parameters": {
								"name": "\"\"",
								"string": "\"Map_Exit\"",
								"function": "\"Map_Exit\""
							}
						}
					],
					"sid": 276898167579630
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "VFX_FadeIn",
							"sid": 152218638004701,
							"parameters": [
								"0",
								"0.5"
							]
						}
					],
					"sid": 704134089068897
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 815380684372085,
							"parameters": {
								"variable": "system_StringsLoaded",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "request-url",
							"objectClass": "AJAX",
							"sid": 658199716752902,
							"parameters": {
								"tag": "\"loadLanguageFile\"",
								"url": "\"strings.\" & language & \".xml\""
							}
						}
					],
					"sid": 236797397703115
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 839825323506292,
							"parameters": {
								"variable": "system_ControlDataLoaded",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "check-item-exists",
							"objectClass": "LocalStorage",
							"sid": 407177310087170,
							"parameters": {
								"key": "\"ControlData\""
							}
						}
					],
					"sid": 832878425263573
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 262635006772369,
							"parameters": {
								"variable": "system_SaveDataChecked",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "check-item-exists",
							"objectClass": "LocalStorage",
							"sid": 361161547365677,
							"parameters": {
								"key": "\"SaveData\""
							}
						}
					],
					"sid": 494795055097920
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 707323481031279,
					"parameters": {
						"interval-seconds": "0.5"
					}
				}
			],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 281119418529908,
					"parameters": {
						"type": "log",
						"message": "\"[LOG]\" & \"Loading: \" & floor(loadingprogress*100) & \"%\""
					}
				}
			],
			"sid": 538001795297635
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 896067494715044,
					"parameters": {
						"variable": "system_StringsLoaded",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 169597675502554,
					"parameters": {
						"variable": "system_ControlDataLoaded",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 922223288286664,
					"parameters": {
						"variable": "system_SaveDataChecked",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 964444483481953,
					"parameters": {
						"first-value": "loadingprogress",
						"comparison": 0,
						"second-value": "1"
					}
				},
				{
					"id": "is-loading-images",
					"objectClass": "System",
					"sid": 817663980043928,
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "go-to-layout-by-name",
					"objectClass": "System",
					"sid": 413862324031338,
					"parameters": {
						"layout": "FirstLayout"
					}
				}
			],
			"sid": 229724882620032
		},
		{
			"eventType": "group",
			"disabled": true,
			"title": "Preload Disabled",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-exists",
							"objectClass": "LocalStorage",
							"sid": 159180786196791,
							"parameters": {
								"key": "\"GamepadRecommended\""
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 321821455242845,
							"parameters": {
								"layout": "MainMenu"
							}
						}
					],
					"sid": 647357895717463
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-missing",
							"objectClass": "LocalStorage",
							"sid": 445968409791640,
							"parameters": {
								"key": "\"GamepadRecommended\""
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 284005425701430,
							"parameters": {
								"layout": "MainMenu"
							}
						}
					],
					"sid": 824727210216934
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "zzzFadeOut",
							"sid": 609786500889613
						}
					],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 494641687546074,
							"parameters": {
								"seconds": "0.5"
							}
						}
					],
					"sid": 821533471235201,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 199796417813827,
									"parameters": {
										"variable": "system_Platform",
										"comparison": 0,
										"value": "\"PC\""
									}
								}
							],
							"actions": [
								{
									"id": "check-item-exists",
									"objectClass": "LocalStorage",
									"sid": 280424940961201,
									"parameters": {
										"key": "\"GamepadRecommended\""
									}
								}
							],
							"sid": 658242627894344
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 823307002184636
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 457239846260073,
									"parameters": {
										"layout": "MainMenu"
									}
								}
							],
							"sid": 117140047544582
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Loader Finished",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 578505478401718,
									"parameters": {
										"first-value": "loadingprogress",
										"comparison": 0,
										"second-value": "1"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 853851679359084,
									"parameters": {
										"first-value": "system_StringsLoaded",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "call-function",
									"objectClass": "function",
									"sid": 964322150251750,
									"parameters": {
										"name": "\"GFX_FadeOut\"",
										"parameter-n": [
											"0.5",
											"99"
										]
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 585683513393704,
									"parameters": {
										"group-name": "\"Loader Finished\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 320456614939016
						}
					],
					"sid": 315197777769502
				},
				{
					"eventType": "group",
					"disabled": true,
					"title": "Customization",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-item-exists",
									"objectClass": "LocalStorage",
									"sid": 998813943331339,
									"parameters": {
										"key": "system_saveslot & \"Customization\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 991844557488583,
									"parameters": {
										"variable": "zzz_HasCustomization",
										"value": "1"
									}
								},
								{
									"id": "check-item-exists",
									"objectClass": "LocalStorage",
									"sid": 142163224144947,
									"parameters": {
										"key": "system_saveslot & \"StatData\""
									}
								}
							],
							"sid": 801041614908102,
							"disabled": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-item-missing",
									"objectClass": "LocalStorage",
									"sid": 655431917841067,
									"parameters": {
										"key": "system_saveslot & \"Customization\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 410619290185940,
									"parameters": {
										"group-name": "\"Loader Finished\"",
										"state": "activated"
									}
								}
							],
							"sid": 599387208992304,
							"disabled": true
						}
					],
					"sid": 165296698258656
				},
				{
					"eventType": "group",
					"disabled": true,
					"title": "Map Tut",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-item-exists",
									"objectClass": "LocalStorage",
									"sid": 340504379344775,
									"parameters": {
										"key": "system_saveslot & \"MapTut\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 784356278043432,
									"parameters": {
										"variable": "zzSystem_MapTutorialDisplayed",
										"value": "1"
									}
								}
							],
							"sid": 106778683123195,
							"disabled": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-item-missing",
									"objectClass": "LocalStorage",
									"sid": 101455078918347,
									"parameters": {
										"key": "system_saveslot & \"MapTut\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 218657201117250,
									"parameters": {
										"variable": "zzSystem_MapTutorialDisplayed",
										"value": "0"
									}
								}
							],
							"sid": 734746169060102,
							"disabled": true
						}
					],
					"sid": 761776911522614
				},
				{
					"eventType": "group",
					"disabled": true,
					"title": "Stat Data",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 129915577767491,
									"parameters": {
										"variable": "zzzsystem_StatsLoaded",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 219083319343913,
									"parameters": {
										"group-name": "\"Stat Data\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 674810450228804,
									"parameters": {
										"group-name": "\"Loader Finished\"",
										"state": "activated"
									}
								}
							],
							"sid": 430204199193986,
							"disabled": true
						}
					],
					"sid": 540575235091039
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "TEMP Loader",
					"description": "To be replace with master loader",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 801046335135298
								}
							],
							"actions": [
								{
									"id": "request-url",
									"objectClass": "AJAX",
									"sid": 400315625042395,
									"parameters": {
										"tag": "\"load_strings\"",
										"url": "\"strings.\" & language & \".xml\""
									}
								}
							],
							"sid": 106200975060289
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 711487270463261,
									"parameters": {
										"tag": "\"load_strings\""
									}
								}
							],
							"actions": [
								{
									"id": "load",
									"objectClass": "XML_Strings",
									"sid": 831326890892002,
									"parameters": {
										"xml": "AJAX.LastData"
									}
								}
							],
							"sid": 183952116095368,
							"children": [
								{
									"eventType": "comment",
									"text": "TODO - Runtime obj diags need to be loaded?"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 206387957059927,
											"parameters": {
												"object": "OBJ_Diag"
											}
										}
									],
									"actions": [
										{
											"id": "call-function",
											"objectClass": "function",
											"sid": 181149533271525,
											"parameters": {
												"name": "\"Diag_Load\"",
												"parameter-n": [
													"OBJ_Diag.UID"
												]
											}
										}
									],
									"sid": 124497819832374
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "request-url",
											"objectClass": "AJAX",
											"sid": 915208956151254,
											"parameters": {
												"tag": "\"load_firstnamesF\"",
												"url": "\"names_first_f.\" & language & \".xml\""
											}
										}
									],
									"sid": 579991966379453
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 485205270903044,
									"parameters": {
										"tag": "\"load_firstnamesF\""
									}
								}
							],
							"actions": [
								{
									"id": "load",
									"objectClass": "XML_FirstNamesF",
									"sid": 885071759187593,
									"parameters": {
										"xml": "AJAX.LastData"
									}
								},
								{
									"id": "request-url",
									"objectClass": "AJAX",
									"sid": 541086070414137,
									"parameters": {
										"tag": "\"load_firstnamesM\"",
										"url": "\"names_first_m.\" & language & \".xml\""
									}
								}
							],
							"sid": 454356091014250
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 469113624895459,
									"parameters": {
										"tag": "\"load_firstnamesM\""
									}
								}
							],
							"actions": [
								{
									"id": "load",
									"objectClass": "XML_FirstNamesM",
									"sid": 614905467373665,
									"parameters": {
										"xml": "AJAX.LastData"
									}
								},
								{
									"id": "request-url",
									"objectClass": "AJAX",
									"sid": 588392835609858,
									"parameters": {
										"tag": "\"load_lastnames\"",
										"url": "\"names_last.\" & language & \".xml\""
									}
								}
							],
							"sid": 845020810152623
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-completed",
									"objectClass": "AJAX",
									"sid": 383434029619290,
									"parameters": {
										"tag": "\"load_lastnames\""
									}
								}
							],
							"actions": [
								{
									"id": "load",
									"objectClass": "XML_LastNames",
									"sid": 965279053843269,
									"parameters": {
										"xml": "AJAX.LastData"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 973668166851035,
									"parameters": {
										"variable": "system_StringsLoaded",
										"value": "1"
									}
								}
							],
							"sid": 454489758105744
						}
					],
					"sid": 605009278692350
				}
			],
			"sid": 809646452583759
		}
	],
	"sid": 353080359195606
}