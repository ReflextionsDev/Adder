{
	"name": "Level Editor_E",
	"events": [
		{
			"eventType": "comment",
			"text": "Should redo previews to not run this actual layout, but automatically export and load the level, this way I can remove redundant layers"
		},
		{
			"eventType": "include",
			"includeSheet": "Master"
		},
		{
			"eventType": "comment",
			"text": "If you add physics, the physics behavior needs to start disabled"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 823058428296635
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Editor_Settings",
					"sid": 858809412076235,
					"parameters": {
						"instance-variable": "PreviewStrings"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 308270047055382,
					"parameters": {
						"variable": "firstLayout",
						"value": "Editor_Settings.LayoutName"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "Editor_Settings",
					"sid": 364042353358550,
					"parameters": {
						"instance-variable": "PreviewStrings",
						"value": "false"
					}
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 590394949737068,
					"parameters": {
						"layout": "Preload"
					}
				}
			],
			"sid": 696238527867803
		},
		{
			"eventType": "comment",
			"text": "TODO"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-function",
					"objectClass": "function",
					"sid": 781341699372481,
					"parameters": {
						"name": "\"Editor_UpdateZOrder\""
					}
				}
			],
			"actions": [],
			"sid": 920317470212343
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 249928769322390,
					"parameters": {
						"key": 77
					}
				}
			],
			"actions": [
				{
					"id": "call-function",
					"objectClass": "function",
					"sid": 237161602351670,
					"parameters": {
						"name": "\"Editor_UpdateZOrder\"",
						"parameter-n": []
					}
				}
			],
			"sid": 537627221791876,
			"children": [
				{
					"eventType": "variable",
					"name": "editor_SelectedUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 965388292074576
				}
			]
		},
		{
			"eventType": "group",
			"disabled": true,
			"title": "Editor Export",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "editor_LevelName",
					"type": "string",
					"initialValue": "Nate_Yeet",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 326986831838891
				},
				{
					"eventType": "variable",
					"name": "editor_LevelExtension",
					"type": "string",
					"initialValue": ".adder",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 383092040288692
				},
				{
					"eventType": "variable",
					"name": "editor_FolderPath",
					"type": "string",
					"initialValue": "E:\\Users\\Nathan\\Projects\\Adder\\Project\\Levels\\",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 485972120416664
				},
				{
					"eventType": "comment",
					"text": "Add dialogue to choose folder location"
				},
				{
					"eventType": "comment",
					"text": "Temp Hotkeys"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 306433832979562,
							"parameters": {
								"key": 83
							}
						}
					],
					"actions": [
						{
							"id": "create-folder",
							"objectClass": "NWjs",
							"sid": 446240416847506,
							"disabled": true,
							"parameters": {
								"path": "NWjs.UserFolder&\"Levels\""
							}
						},
						{
							"id": "save",
							"objectClass": "System",
							"sid": 872126168136766,
							"parameters": {
								"slot": "\"tempsave\""
							}
						},
						{
							"id": "invoke-download",
							"objectClass": "Browser",
							"sid": 585517044054415,
							"parameters": {
								"url": "\"\"",
								"filename": "\"\""
							}
						}
					],
					"sid": 704601588147775,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-save-complete",
							"objectClass": "System",
							"sid": 515302365737597
						}
					],
					"actions": [
						{
							"id": "write-file",
							"objectClass": "NWjs",
							"sid": 678502167575265,
							"parameters": {
								"path": "editor_FolderPath & editor_LevelName & editor_LevelExtension",
								"contents": "SaveStateJSON"
							}
						}
					],
					"sid": 563982359915109,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 787338861100134,
							"parameters": {
								"key": 76
							}
						}
					],
					"actions": [
						{
							"id": "show-open-dialog",
							"objectClass": "NWjs",
							"sid": 365482949580382,
							"parameters": {
								"accept": "editor_LevelExtension"
							}
						}
					],
					"sid": 590098357196066,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-open-dialog-ok",
							"objectClass": "NWjs",
							"sid": 502646406006159
						}
					],
					"actions": [
						{
							"id": "load-from-json",
							"objectClass": "System",
							"sid": 219852179730289,
							"parameters": {
								"json": "NWjs.ReadFile(NWjs.ChosenPath)"
							}
						}
					],
					"sid": 484964873252790,
					"disabled": true
				}
			],
			"sid": 366393841298171
		},
		{
			"eventType": "variable",
			"name": "Editor_TeleportIndex",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 564129832796551
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Editor Teleport",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "Editor_Teleport",
							"sid": 390565096019364
						},
						{
							"id": "is-on-layer",
							"objectClass": "Editor_Teleport",
							"sid": 986481455395238,
							"parameters": {
								"layer": "\"Editor_Core\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "push",
							"objectClass": "Editor_TeleportsList",
							"sid": 754611163215428,
							"parameters": {
								"where": "back",
								"value": "Editor_Teleport.UID",
								"axis": "x"
							}
						}
					],
					"sid": 835068066774728
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 100988800146829,
							"parameters": {
								"key": 84
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "Editor_Teleport",
							"sid": 315133250176793,
							"parameters": {
								"unique-id": "Editor_TeleportsList.At(Editor_TeleportIndex)"
							}
						}
					],
					"actions": [
						{
							"id": "set-position-to-another-object",
							"objectClass": "Player",
							"sid": 392340340721924,
							"parameters": {
								"object": "Editor_Teleport",
								"image-point-optional": "0"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 677607639069763,
							"parameters": {
								"variable": "Editor_TeleportIndex",
								"value": "1"
							}
						}
					],
					"sid": 812342636698797,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 903684623593814,
									"parameters": {
										"first-value": "Editor_TeleportIndex",
										"comparison": 5,
										"second-value": "Editor_TeleportsList.Width"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 849272357632485,
									"parameters": {
										"variable": "Editor_TeleportIndex",
										"value": "0"
									}
								}
							],
							"sid": 226179852113166
						}
					]
				}
			],
			"sid": 633149289139895
		},
		{
			"eventType": "comment",
			"text": "Level Spawning"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Level Spawn Special",
			"description": "Enable / Disable this whole group after level is spawned",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Level Spawn PlayerFloorStairs",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "Solid_PlayerFloorStairs",
									"sid": 569380247278124
								},
								{
									"id": "pick-children",
									"objectClass": "Solid_PlayerFloorStairs",
									"sid": 434633344420221,
									"parameters": {
										"child": "PlayerFloorStairsTarget",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "rotate-toward-position",
									"objectClass": "Solid_PlayerFloorStairs",
									"sid": 299803978755288,
									"parameters": {
										"degrees": "360",
										"x": "PlayerFloorStairsTarget.X",
										"y": "PlayerFloorStairsTarget.Y"
									}
								},
								{
									"id": "set-width",
									"objectClass": "Solid_PlayerFloorStairs",
									"sid": 167324632801354,
									"parameters": {
										"width": "distance(Self.X,Self.Y,PlayerFloorStairsTarget.X,PlayerFloorStairsTarget.Y)"
									}
								},
								{
									"id": "destroy",
									"objectClass": "PlayerFloorStairsTarget",
									"sid": 840544348238348
								}
							],
							"sid": 440245950335862
						}
					],
					"sid": 477244522744295
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Level Spawn Decay",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "Level_SpawnRoomDecay",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "RoomUID",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 341491709082303
								},
								{
									"name": "Coverage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 573000656254223
								},
								{
									"name": "DecayType",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 789786514826430
								},
								{
									"name": "SnapToGrid",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 609103026618095
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Room",
									"sid": 987600552230632,
									"parameters": {
										"unique-id": "RoomUID"
									}
								}
							],
							"actions": [],
							"sid": 930008782540874,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 243490417897887,
											"parameters": {
												"count": "int((Coverage/100)*((Room.Width/24)*((Room.Height/24)-1)))"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 303775550283721,
											"parameters": {
												"object-to-create": "Decay",
												"layer": "Room.LayerName",
												"x": "Room.X + random(-Room.Width/2,(Room.Width/2)-24)",
												"y": "Room.Y - random(24,Room.Height-24)",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Decay",
											"sid": 691915074868708,
											"parameters": {
												"animation": "DecayType",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Decay",
											"sid": 646114536553974,
											"parameters": {
												"frame-number": "floor(random(0,Self.AnimationFrameCount+0.99))"
											}
										}
									],
									"sid": 439470269474328,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 161361740272488,
													"parameters": {
														"variable": "SnapToGrid"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "Decay",
													"sid": 231859365551286,
													"parameters": {
														"x": "round(Self.X/24)*24 ",
														"y": "round(Self.Y/24)*24"
													}
												}
											],
											"sid": 112677411325343
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-created",
									"objectClass": "Room",
									"sid": 110469933026780
								}
							],
							"actions": [],
							"sid": 921137089236847,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Room",
											"sid": 814319304802949,
											"parameters": {
												"instance-variable": "decay_cracks",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Level_SpawnRoomDecay",
											"sid": 770337405567527,
											"parameters": [
												"Room.UID",
												"Room.decay_cracks",
												"\"Cracks\"",
												false
											]
										}
									],
									"sid": 196029403713375
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Room",
											"sid": 688767180220269,
											"parameters": {
												"instance-variable": "decay_holes",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Level_SpawnRoomDecay",
											"sid": 780720333179449,
											"parameters": [
												"Room.UID",
												"Room.decay_holes",
												"\"Holes\"",
												false
											]
										}
									],
									"sid": 601471679407162
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Room",
											"sid": 154047356895092,
											"parameters": {
												"instance-variable": "decay_exposedBrick",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Level_SpawnRoomDecay",
											"sid": 389084160566172,
											"parameters": [
												"Room.UID",
												"Room.decay_exposedBrick",
												"\"ExposedBrick\"",
												false
											]
										}
									],
									"sid": 434225591292070
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Room",
											"sid": 985064699347549,
											"parameters": {
												"instance-variable": "decay_missingBrick",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Level_SpawnRoomDecay",
											"sid": 666192329454999,
											"parameters": [
												"Room.UID",
												"Room.decay_missingBrick",
												"\"MissingBrick\"",
												true
											]
										}
									],
									"sid": 245166302502586
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Room",
											"sid": 322147881574838,
											"parameters": {
												"instance-variable": "decay_missingPanel",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "Level_SpawnRoomDecay",
											"sid": 277547517202483,
											"parameters": [
												"Room.UID",
												"Room.decay_missingPanel",
												"\"MissingPanel\"",
												true
											]
										}
									],
									"sid": 448493579411062
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Decay",
									"sid": 787477346194567,
									"parameters": {
										"object": "Decay"
									}
								}
							],
							"actions": [],
							"sid": 482471983497107,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 814268386586339,
											"parameters": {
												"object": "Decay",
												"instance": "1"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Decay",
											"sid": 747061431640784
										}
									],
									"sid": 776097737096268
								}
							]
						}
					],
					"sid": 850186262640129
				}
			],
			"sid": 996947444195641
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 210657353965269
				}
			],
			"actions": [
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 990679779857583,
					"parameters": {
						"tag": "\"Level\"",
						"file": "tilemap.json"
					}
				}
			],
			"sid": 471697083277018
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 231105677936929,
					"parameters": {
						"tag": "\"Level\""
					}
				}
			],
			"actions": [],
			"sid": 830272210709352
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 834535692365776,
					"parameters": {
						"object": "HoleCover"
					}
				}
			],
			"actions": [],
			"sid": 230376114371093,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 950488818822759,
							"parameters": {
								"first-value": "Player.Y",
								"comparison": 2,
								"second-value": "HoleCover.Y - 6"
							}
						}
					],
					"actions": [
						{
							"callFunction": "PLR_ChangeLayer",
							"sid": 417081057046628,
							"parameters": [
								"\"Default\""
							]
						}
					],
					"sid": 339571555946982
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 217253895801377
						}
					],
					"actions": [
						{
							"callFunction": "PLR_ChangeLayer",
							"sid": 546747002654283,
							"parameters": [
								"\"Under\""
							]
						}
					],
					"sid": 948070027494027
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 831329940205355,
					"parameters": {
						"object": "ZFixer"
					}
				}
			],
			"actions": [
				{
					"callFunction": "PLR_ChangeLayer",
					"sid": 557585108280192,
					"parameters": [
						"\"Default\""
					]
				}
			],
			"sid": 318408250159786
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Player",
					"sid": 735605481811363,
					"parameters": {
						"object": "LadderCover"
					}
				}
			],
			"actions": [
				{
					"callFunction": "PLR_ChangeLayer",
					"sid": 974371572674488,
					"parameters": [
						"\"Under\""
					]
				}
			],
			"sid": 248330562109664
		},
		{
			"eventType": "comment",
			"text": "do dis"
		},
		{
			"eventType": "comment",
			"text": "Add animation conditions"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Player",
					"sid": 508229214052334,
					"parameters": {
						"object": "HoleBG"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "HoleBG",
					"sid": 728129797259418,
					"parameters": {
						"instance-variable": "Hazard"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Solids",
					"sid": 901242659765726,
					"parameters": {
						"unique-id": "HoleBG.SolidUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "HoleCover",
					"sid": 814018107619201,
					"parameters": {
						"unique-id": "HoleBG.CoverUID"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation-speed",
					"objectClass": "HoleBG",
					"sid": 835356126015030,
					"parameters": {
						"speed": "20"
					}
				},
				{
					"id": "set-animation-speed",
					"objectClass": "HoleCover",
					"sid": 864243515390585,
					"parameters": {
						"speed": "20"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Solids",
					"sid": 748413504386392
				}
			],
			"sid": 108029264570077
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Bullet",
					"sid": 773263069945796,
					"parameters": {
						"object": "HoleBG"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "HoleBG",
					"sid": 253343360242331,
					"parameters": {
						"instance-variable": "Hazard"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Solids",
					"sid": 120191648477869,
					"parameters": {
						"unique-id": "HoleBG.SolidUID"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "HoleCover",
					"sid": 768598087990697,
					"parameters": {
						"unique-id": "HoleBG.CoverUID"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation-speed",
					"objectClass": "HoleBG",
					"sid": 920187754134258,
					"parameters": {
						"speed": "20"
					}
				},
				{
					"id": "set-animation-speed",
					"objectClass": "HoleCover",
					"sid": 789243786721048,
					"parameters": {
						"speed": "20"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Solids",
					"sid": 950221239430040
				}
			],
			"sid": 616835473899199,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-animation-finished",
					"objectClass": "HoleBG",
					"sid": 988861476936754
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "HoleBG",
					"sid": 582062428260179,
					"parameters": {
						"instance-variable": "Hazard"
					}
				},
				{
					"id": "pick-by-unique-id",
					"objectClass": "Solids",
					"sid": 411486699602022,
					"parameters": {
						"unique-id": "HoleBG.SolidUID"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Solids",
					"sid": 731533501650120
				}
			],
			"sid": 829711733561471,
			"disabled": true
		}
	],
	"sid": 414210566204978
}